{"version":3,"sources":["styles/GlobalStyle.js","lib/helpers.js","components/Layout.js","constants/actionTypes.js","reducers/auth.js","reducers/survey.js","reducers/index.js","store/configureStore.js","components/Text.js","actions/ApiActions.js","constants/apiEndpoints.js","actions/AuthActions.js","components/Header.js","components/ScrollTop.js","pages/BasePage.js","components/Button.js","components/Input.js","components/SigninForm.js","components/Form.js","components/SignupForm.js","actions/SurveyActions.js","components/SurveyForm.js","components/Loading.js","actions/AudienceActions.js","components/AudienceForm.js","components/OptionButton.js","components/Survey.js","components/SurveyList.js","routes.js","pages/SurveyListPage.js","pages/SignupPage.js","pages/SigninPage.js","pages/LogoutPage.js","pages/SurveyCreatePage.js","pages/SurveyPage.js","pages/SurveyUpdatePage.js","App.js","index.js","styles/theme.js"],"names":["createGlobalStyle","media","Object","entries","xs","sm","md","lg","xl","xxl","reduce","accumulate","key","value","assign","css","RouteWithSubRoutes","route","path","render","props","component","routes","fillField","labelCol","span","wrapperCol","formHasError","fieldsError","some","field","errors","length","Content","styled","div","theme","contentWidth","headerHeight","AuthBox","boxBgColor","Layout","AntLayout","actionTypes","type","AUTH_GET_ME","AUTH_POST_SIGNUP","AUTH_POST_LOGOUT","InitialState","Record","getMe","postSignup","state","set","SURVEY_GET_LIST","SURVEY_GET","SURVEY_PUT","SURVEY_POST","getListSurvey","OrderedMap","surveyPagination","page","total","perPage","params","rows","count","d","v","id","liimt","limit","setIn","history","combineReducers","auth","survey","router","connectRouter","createBrowserHistory","basename","process","middlewares","thunk","configureStore","appliedMiddlewares","additionalMiddlewares","applyMiddleware","routerMiddleware","store","createStore","combinedReducers","token","sizes","xxs","s","m","l","big","jumbo","color","bold","light","italic","size","REACT_APP_API_URL","AUTH_POST_SIGNIN","SURVEY_DELETE","AUDIENCE_POST","str","obj","keys","p","c","split","join","API_SET","headers","Accept","reqFunctions","post","url","query","opts","getToken","options","method","Authorization","body","dispatch","onRequest","apiFetch","get","queryString","qs","stringify","allowDots","delete","put","window","localStorage","getItem","setToken","newToken","setItem","dispatchRequest","onError","include","a","toLowerCase","request","response","error","onResponse","JSON","fetch","authToken","json","status","data","errorObj","Error","detail","meta","message","content","statusCode","duration","API","withRouter","useDispatch","useState","background","setBackground","mobileMenu","setMobileMenu","useSelector","userRef","React","useRef","useEffect","AuthActions","isCancelled","addEventListener","pageYOffset","current","setStop","menus","icon","ProfileOutlined","text","to","push","PlusOutlined","LogoutOutlined","HeaderWrapper","HeaderContent","className","Text","BurgerButton","onClick","UnorderedListOutlined","MenuWrapper","show","Menu","CloseButton","onclick","CloseSquareOutlined","map","menu","MenuLink","fadeIn","keyframes","Link","Header","ScrollToTop","location","useLocation","previous","ref","usePrevious","action","pathname","search","scrollTo","MainContent","htmlType","children","loading","StyledButton","LoadingOutlined","button","width","String","indexOf","disabled","default","primary","success","warning","gray","black","white","border","style","small","StyledInput","Input","Password","submitting","setSubmitting","formRef","onFinish","validateFields","setFields","then","values","result","forEach","name","catch","Item","label","rules","required","inputMode","autoCorrect","autoCapitalize","autoComplete","noStyle","shouldUpdate","getFieldsError","Button","Form","AntForm","readOnly","setSuccess","handleSubmit","as","dependencies","getFieldValue","validator","rule","Promise","reject","resolve","getSurvey","postSurvey","initialValues","title","Options","Option","SurveyActions","List","fields","add","index","getFieldsValue","setFieldsValue","splice","ErrorList","LoadingWrapper","getAudience","parse","setAudience","audience","postAudience","questionId","onCancel","AudienceActions","option","totalAnswers","audienceAnswer","percentage","Answers","toFixed","isOptionAnswer","OptionId","OptionIcon","CheckCircleTwoTone","twoToneColor","BorderOutlined","percent","showInfo","OptionButton","modal","setModal","handleClick","email","acc","find","answer","Audience","edit","SurveyWrapper","Loading","Question","visible","footer","AudienceForm","toIndexedSeq","toArray","Survey","i","SurveyList","exact","SignupForm","SigninForm","res","SurveyForm","match","Number","locale","enUS","GlobalStyle","Helmet","defaultTitle","titleTemplate","ReactDOM","fontFamily","headerColor","App","document","getElementById"],"mappings":"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","file":"static/js/main.10205474.chunk.js","sourcesContent":["import {createGlobalStyle} from \"styled-components\";\n//import {media} from \"../lib/helpers\";\n\nexport default createGlobalStyle`\n  html, body {\n    font-family: Open Sans, serif !important;\n    font-size: 14px;\n    background: #fff !important;\n    font-weight: 400;\n    color: #333;\n    line-height: 1.2;\n    min-height: 100vh;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n\n  .text-center {\n    text-align: center;\n  }\n\n  .text-left {\n    text-align: left;\n  }\n\n  .text-right {\n    text-align: right;\n  }\n\n  #root {\n    width: 100%;\n    overflow: hidden;\n  }\n\n\n  .fill {\n    width: 100%;\n  }\n\n  .w50 {\n    width: 50px;\n  }\n\n  .mb30 {\n    margin-bottom: 30px;\n  }\n\n  .mt20 {\n    margin-top: 20px;\n  }\n\n  .mr5 {\n    margin-right: 5px;\n  }\n  .mr20 {\n    margin-right: 20px;\n  }\n\n  .pv10 {\n    padding-top: 10px;\n    padding-bottom: 10px;\n  }\n\n  .ph30 {\n    padding-left: 30px;\n    padding-right: 30px;\n  }\n\n  .flex-1 {\n    flex: 1 !important;\n  }\n  .flex-1-5 {\n    flex: 1.5 !important;\n  }\n  .flex-2 {\n    flex: 2 !important;\n  }\n  .flex-3 {\n    flex: 3 !important;\n  }\n  .flex-v {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  }\n  .flex-v.flex-end {\n    align-items: flex-end;\n    justify-content: flex-end;\n  }\n  .flex-v.flex-start {\n    align-items: flex-start !important;\n  }\n  .flex-v.flex-center {\n    justify-content: center;\n  }\n  .flex-v.flex-align-center {\n    align-items: center;\n  }\n  .flex-v .flex-align-self-center {\n    align-self: center;\n  }\n  .flex-h {\n    display: flex !important;\n    flex-direction: row;\n  }\n  .flex-h.flex-end {\n    align-items: flex-end;\n    justify-content: flex-end;\n  }\n  .flex-h.flex-start {\n    align-items: flex-start !important;\n  }\n  .flex-h.flex-center {\n    justify-content: center;\n    align-items: center;\n  }\n  .flex-h.flex-text-left {\n    justify-content: left;\n  }\n  .flex-h .flex-align-self-center {\n    align-self: center;\n  }\n\n`;\n","import React from \"react\";\nimport {Route} from \"react-router-dom\";\nimport {css} from \"styled-components\";\n\nexport const dimensionMap = {\n  xs: '480px',\n  sm: '576px',\n  md: '768px',\n  lg: '992px',\n  xl: '1200px',\n  xxl: '1600px',\n};\n\nexport const media = Object.entries(dimensionMap).reduce(\n  (accumulate, [key, value]) => (\n    Object.assign(accumulate, {\n      [key]: (...args) => (\n        css`\n          @media (max-width: ${value}) {\n            ${css(...args)}\n          }\n        `\n      ),\n    })\n  ),\n  {},\n);\n\nexport const RouteWithSubRoutes = (route) => (\n  <Route\n    path={route.path}\n    render={props => (\n      // pass the sub-routes down to keep nesting\n      <route.component {...props} routes={route.routes} />\n    )}\n  />\n);\n\nexport const fillField = {\n  labelCol: {\n    xs: {\n      span: 24,\n    },\n  },\n  wrapperCol: {\n    xs: {\n      span: 24,\n    },\n  },\n};\n\nexport const formHasError = fieldsError => fieldsError.some(field => field.errors.length);\n","import {Layout as AntLayout} from \"antd\";\nimport styled from \"styled-components\";\n\nimport {media} from \"../lib/helpers\";\n\nexport const Content = styled.div`\n  z-index: 1;\n  max-width: ${props => props.theme.contentWidth}px;\n  width: 100%;\n  margin: calc(20px + ${props => props.theme.headerHeight}) auto 0 auto;\n  padding: 0 20px;\n  ${media.xs`\n    padding: 0 10px;\n  `}\n`;\n\nexport const AuthBox = styled.div`\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  padding: 30px;\n  background: ${props => props.theme.boxBgColor};\n  border-radius: 8px;\n  max-width: 450px;\n  margin: 10px auto;\n`;\n\nexport const Layout = styled(AntLayout)`\n  background: #f9f9f9 !important;\n`;\n","const actionTypes = [\n  \"API_SET\",\n\n  \"AUTH_POST_SIGNUP\",\n  \"AUTH_POST_SIGNIN\",\n  \"AUTH_POST_LOGOUT\",\n  \"AUTH_GET_ME\",\n\n  \"SURVEY_POST\",\n  \"SURVEY_GET\",\n  \"SURVEY_GET_LIST\",\n  \"SURVEY_PUT\",\n  \"SURVEY_DELETE\",\n\n  \"AUDIENCE_POST\",\n].reduce((\n  actionTypes,\n  type,\n) => ({\n  ...actionTypes,\n  [type]: type,\n}), {});\n\nexport default actionTypes;\n","import {Record} from \"immutable\";\nimport actionTypes from \"../constants/actionTypes\";\n\nconst {\n  AUTH_GET_ME,\n  AUTH_POST_SIGNUP,\n  AUTH_POST_LOGOUT,\n} = actionTypes;\n\nconst InitialState = new Record({\n  getMe: false,\n  postSignup: false,\n});\n\nexport default (\n  state = new InitialState(),\n  {\n    type,\n    value,\n  },\n) => {\n  switch (type) {\n    case AUTH_GET_ME: {\n      return state.set(\"getMe\", value);\n    }\n    case AUTH_POST_SIGNUP: {\n      return state.set(\"postSignup\", value);\n    }\n    case AUTH_POST_LOGOUT:\n      return state.set(\"getMe\", false);\n    default:\n      return state;\n  }\n};\n","import {Record, OrderedMap} from \"immutable\";\n\nimport actionTypes from \"../constants/actionTypes\";\n\nconst {\n  SURVEY_GET_LIST,\n  SURVEY_GET,\n  SURVEY_PUT,\n  SURVEY_POST,\n} = actionTypes;\n\nconst InitialState = new Record({\n  getListSurvey: new OrderedMap(),\n  surveyPagination: {\n    page: 0,\n    total: 0,\n    perPage: 0,\n  },\n});\n\nexport default (\n  state = new InitialState(),\n  {\n    value,\n    type,\n    params,\n  },\n) => {\n  switch (type) {\n    case SURVEY_GET_LIST: {\n      const {rows, count} = value;\n      return state\n        .set(\n          \"getListSurvey\",\n          rows.reduce((d, v) => d.set(v.id, v), new OrderedMap()),\n        )\n        .set(\"surveyPagination\", {\n          page: params.page,\n          liimt: params.limit,\n          total: count,\n        });\n    }\n\n    case SURVEY_GET:\n    case SURVEY_PUT:\n    case SURVEY_POST: {\n      return state\n        .setIn([\n          \"getListSurvey\",\n          value.id,\n        ],\n        value);\n    }\n\n    default:\n      return state;\n  }\n};\n","import {combineReducers} from \"redux\";\nimport {connectRouter} from \"connected-react-router\";\n\nimport auth from \"./auth\";\nimport survey from \"./survey\";\n\nexport default history => combineReducers({\n  auth,\n  survey,\n  router: connectRouter(history),\n});\n","// @flow\n\nimport {createStore, applyMiddleware} from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { routerMiddleware } from \"connected-react-router\";\nimport { createBrowserHistory } from \"history\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport combinedReducers from \"../reducers\";\n\nconst {\n  REACT_APP_BASENAME,\n} = process.env;\n\nexport const history = createBrowserHistory({basename: REACT_APP_BASENAME});\n\nconst middlewares = [thunk];\n\nfunction configureStore(additionalMiddlewares: Array<any> = [] /*initialState = undefined*/) {\n  let appliedMiddlewares;\n  if (process.env.NODE_ENV !== 'production') {\n    appliedMiddlewares = composeWithDevTools(\n      applyMiddleware(\n        ...middlewares,\n        ...additionalMiddlewares,\n        routerMiddleware(history),\n      ),\n    );\n  } else {\n    appliedMiddlewares = applyMiddleware(\n      ...middlewares,\n      ...additionalMiddlewares,\n      routerMiddleware(history),\n    );\n  }\n  const store = createStore(\n    combinedReducers(history),\n    appliedMiddlewares,\n  );\n  return store;\n}\n\nexport default configureStore;\n","import styled from \"styled-components\";\nimport {media} from \"../lib/helpers\";\n\nconst sizes = {\n  xxs: `\n    font-size: 12px !important;\n    line-height: 20px;\n  `,\n  xs: `\n    font-size: 14px !important;\n    line-height: 22px;\n  `,\n  s: `\n    font-size: 16px !important;\n    line-height: 24px;\n  `,\n  m: `\n    font-size: 20px !important;\n    line-height: 28px;\n  `,\n  l: `\n    font-size: 24px !important;\n    line-height: 32px;\n  `,\n  xl: `\n    font-size: 30px !important;\n    line-height: 38px;\n  `,\n  xxl: `\n    font-size: 38px !important;\n    line-height: 46px;\n  `,\n  big: `\n    font-size: 46px;\n    line-height: 54px;\n  `,\n  jumbo: `\n    font-size: 56px;\n    line-height: 64px;\n  `,\n};\n\nexport default styled.div`\n  ${props => (props.color && `color: ${props.color};`)}\n  ${props => (props.bold && \"font-weight: 800;\")}\n  ${props => (props.light && \"font-weight: 300;\")}\n  ${props => (props.italic && \"font-style: italic;\")}\n\n  ${props => sizes[props.size || \"xs\"]};\n\n  ${media.xs`\n  ${props => ({\n    xl: sizes.xs,\n    xxl: sizes.l,\n    big: sizes.l,\n    jumbo: sizes.xl,\n  })[props.size || \"xs\"]}\n  `}\n`;\n","import qs from \"qs\";\nimport {message} from \"antd\";\n\nimport actionTypes from \"../constants/actionTypes\";\n\nconst {\n  API_SET,\n  AUTH_GET_ME,\n} = actionTypes;\n\nconst headers = {\n  \"Content-Type\": 'application/json',\n  Accept: \"application/json\",\n};\n\nconst reqFunctions = {\n  post: apiPost,\n  get: apiGet,\n  delete: apiDelete,\n  put: apiPut,\n};\n\nlet token;\n\nexport function getToken() {\n  token = token || window.localStorage.getItem('token');\n  return token;\n}\n\nexport function setToken(newToken) {\n  token = newToken;\n  window.localStorage.setItem('token', token);\n}\n\nexport const dispatchRequest = ({\n  method,\n  url,\n  type,\n  params,\n  onError,\n  include = {},\n  opts = {},\n}) => (\n  async (dispatch) => {\n    const m = method.toLowerCase();\n    const request = reqFunctions[m](url, params, opts);\n    const response = await dispatch(request);\n    if (!response.error) {\n      dispatch({\n        type,\n        value: response,\n        params: {\n          ...params,\n          ...include,\n        },\n      });\n    }\n    if (response.error) {\n      if (onError) {\n        onError(dispatch);\n      }\n    }\n    return response;\n  }\n);\n\nfunction onRequest() {\n  return {\n    type: API_SET,\n    key: \"loading\",\n    value: true,\n  };\n}\n\nfunction onResponse(response: Object) {\n  return (dispatch: any) => {\n    dispatch({type: API_SET, key: \"loading\", value: false});\n    dispatch({type: API_SET, key: \"success\", value: response});\n    return response;\n  };\n}\n\nfunction apiFetch(url, options) {\n  return async (dispatch: Function) => {\n    const {\n      headers: {\n        ...headers\n      },\n      ...opts\n    } = options;\n    opts.body = JSON.stringify(opts.body);\n\n    try {\n      const response = await fetch(url, {\n        ...opts,\n        headers,\n      });\n      const authToken = response.headers.get(\"authorization\") || response.headers.get(\"Authorization\");\n      if (authToken) {\n        setToken(authToken);\n      }\n      const json = await response.json();\n\n      if (response.status >= 200 && response.status < 300) {\n        return dispatch(onResponse(json));\n      }\n      return dispatch(onError(json));\n    } catch (error) {\n      if (error.response) {\n        return dispatch(onError(error.response.data));\n      }\n      if (error.request) {\n        return dispatch(onError(error));\n      }\n      return dispatch(onError(error));\n    }\n  };\n}\n\nexport function apiGet(url: string, query?: Object, opts?: Object) {\n  const token = getToken();\n  const options = {\n    ...opts,\n    method: \"GET\",\n    headers: {...headers, Authorization: token},\n  };\n  const queryString = query && `?${qs.stringify(query, { allowDots: true })}`;\n  return (dispatch: Function) => {\n    dispatch(onRequest());\n    return dispatch(apiFetch(`${url}${queryString || \"\"}`, options));\n  };\n}\n\nexport function apiPost(url: string, query?: Object, opts?: Object) {\n  const token = getToken();\n  const options = {\n    ...opts,\n    method: \"POST\",\n    headers: {...headers, Authorization: token},\n    body: query,\n  };\n  return (dispatch: Function) => {\n    dispatch(onRequest());\n    return dispatch(apiFetch(url, options));\n  };\n}\n\nexport function apiDelete(url: string, query?: Object, opts?: Object) {\n  const token = getToken();\n  const options = {\n    ...opts,\n    method: \"DELETE\",\n    headers: {...headers, Authorization: token},\n  };\n  const queryString = query && `?${qs.stringify(query, { allowDots: true })}`;\n  return (dispatch: Function) => {\n    dispatch(onRequest());\n    return dispatch(apiFetch(`${url}${queryString || \"\"}`, options));\n  };\n}\n\nexport function apiPut(url: string, query?: Object, opts?: Object) {\n  const token = getToken();\n  const options = {\n    ...opts,\n    method: \"PUT\",\n    headers: {...headers, Authorization: token},\n    body: query,\n  };\n  return (dispatch: Function) => {\n    dispatch(onRequest());\n    return dispatch(apiFetch(url, options));\n  };\n}\n\nfunction onError(response: Object) {\n  return (dispatch) => {\n    dispatch({type: API_SET, key: \"loading\", value: false});\n    let errorObj = {};\n    if (response instanceof Error || typeof response === \"string\") {\n      // Unexpected errors\n      const detail = \"Unexpected Error\";\n      errorObj = {\n        error: \"unexpected\",\n        detail,\n        meta: null,\n      };\n      message.error({\n        content: detail,\n        key: \"unexpected\",\n      });\n\n    } else {\n      // expect error in JSON format\n      const {\n        error = \"unexpected\",\n        key,\n        detail,\n        id,\n        meta = {},\n        status,\n        statusCode, // default error from hapi\n      } = response;\n\n      errorObj = {\n        error,\n        key,\n        id,\n        status,\n        detail,\n        meta,\n      };\n      if (statusCode && statusCode !== 401) {\n        message.error({\n          content: `error_${statusCode}`,\n          key: statusCode,\n        });\n      } else if (statusCode === 401) {\n        // unauthorized\n        errorObj.error = \"error_401\";\n        // logout from client\n        dispatch({type: AUTH_GET_ME, value: {}});\n        setToken(null);\n      }\n    }\n\n    if (errorObj.key) {\n      message.error({\n        content: errorObj.detail || errorObj.key,\n        duration: 10,\n        key: errorObj.key,\n      });\n    }\n\n    dispatch({type: API_SET, key: \"error\", value: errorObj});\n    return errorObj;\n  };\n}\n","const {\n  REACT_APP_API_URL,\n} = process.env;\n\nexport default {\n  // AUTH\n  AUTH_POST_SIGNUP: `${REACT_APP_API_URL}/auth/signup`,\n  AUTH_POST_SIGNIN: `${REACT_APP_API_URL}/auth/signin`,\n  AUTH_GET_ME: `${REACT_APP_API_URL}/auth/me`,\n  AUTH_POST_LOGOUT: `${REACT_APP_API_URL}/auth/logout`,\n\n  // SURVEY\n  SURVEY_POST: `${REACT_APP_API_URL}/survey`,\n  SURVEY_GET: `${REACT_APP_API_URL}/survey/{id}`,\n  SURVEY_GET_LIST: `${REACT_APP_API_URL}/survey/list`,\n  SURVEY_PUT: `${REACT_APP_API_URL}/survey/{id}`,\n  SURVEY_DELETE: `${REACT_APP_API_URL}/survey/{id}`,\n\n  // AUDIENCE\n  AUDIENCE_POST: `${REACT_APP_API_URL}/audience`,\n};\n\nexport const render = (str, obj) => (\n  Object.keys(obj).reduce((p, c) => p.split(`{${c}}`).join(obj[c]), str)\n);\n","// @flow\n\nimport actionTypes from \"../constants/actionTypes\";\n\nimport API from \"../constants/apiEndpoints\";\nimport {\n  dispatchRequest,\n  setToken,\n} from \"./ApiActions\";\n\nconst {\n  AUTH_POST_SIGNUP,\n  AUTH_POST_SIGNIN,\n  AUTH_POST_LOGOUT,\n  AUTH_GET_ME,\n} = actionTypes;\n\nexport function postSignup(params) {\n  return dispatchRequest({\n    method: \"post\",\n    url: API[AUTH_POST_SIGNUP],\n    params,\n    type: AUTH_POST_SIGNUP,\n  });\n}\n\nexport function postSignin(params) {\n  return dispatchRequest({\n    method: \"post\",\n    url: API[AUTH_POST_SIGNIN],\n    params,\n    type: AUTH_POST_SIGNIN,\n  });\n}\n\nexport function getMe() {\n  return dispatchRequest({\n    method: \"get\",\n    url: API[AUTH_GET_ME],\n    type: AUTH_GET_ME,\n    onError: (dispatch) => {\n      dispatch({type: AUTH_POST_LOGOUT});\n    },\n  });\n}\n\nexport function postLogout() {\n  return dispatch => dispatchRequest({\n    method: \"post\",\n    url: API[AUTH_POST_LOGOUT],\n    type: AUTH_POST_LOGOUT,\n  })(dispatch).then((res) => {\n    if (res && !res.error) {\n      setToken(null);\n    }\n  });\n}\n","import React, {useState, useEffect} from 'react';\nimport {Link, withRouter} from \"react-router-dom\";\nimport {useSelector, useDispatch} from \"react-redux\";\nimport {Layout} from \"antd\";\nimport {\n  CloseSquareOutlined,\n  UnorderedListOutlined,\n  LogoutOutlined,\n  PlusOutlined,\n  ProfileOutlined,\n} from '@ant-design/icons';\nimport styled, {keyframes} from \"styled-components\";\n\nimport Text from \"./Text\";\nimport {media} from \"../lib/helpers\";\nimport * as AuthActions from \"../actions/AuthActions\";\n\nexport default withRouter(() => {\n  const dispatch = useDispatch();\n  const [background, setBackground] = useState(\"transparent\");\n  const [mobileMenu, setMobileMenu] = useState(false);\n  const getMe = useSelector(state => state.auth.get(\"getMe\"));\n  const userRef = React.useRef();\n\n  useEffect(() => {\n    dispatch(AuthActions.getMe());\n    let isCancelled = false;\n    const handleScroll = () => {\n      if (isCancelled) {\n        return;\n      }\n      if (window.pageYOffset > 0) {\n        setBackground(\"white\");\n      } else {\n        setBackground(\"transparent\");\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      isCancelled = true;\n      if (userRef && userRef.current) {\n        userRef.current.setStop(true);\n      }\n\n    };\n  }, []);\n\n  const menus = [{\n    icon: () => <ProfileOutlined />,\n    text: \"Surveys\",\n    to: \"/\",\n  }];\n  if (getMe) {\n    menus.push({\n      icon: () => <PlusOutlined />,\n      text: \"Create Question\",\n      to: \"/survey/create\",\n    });\n    menus.push({\n      text: \"Logout\",\n      to: \"/logout\",\n      icon: () => <LogoutOutlined />,\n    });\n  } else {\n    menus.push({\n      icon: () => \"\",\n      text: \"Sign up\",\n      to: \"/signup\",\n    });\n    menus.push({\n      icon: () => \"\",\n      text: \"Sign in\",\n      to: \"/signin\",\n    });\n  }\n\n  return (\n    <HeaderWrapper background={background}>\n      <HeaderContent type=\"default\" className=\"flex-h flex-1\">\n        <div className=\"flex-start flex-v flex-center flex-1\">\n          <Link to=\"/\"><Text size=\"l\" bold color=\"#333\">Survey</Text></Link>\n        </div>\n\n        <BurgerButton\n          className=\"ph10 mr20 flex-v flex-center\"\n          onClick={() => {\n            setMobileMenu(true);\n          }}\n        >\n          <UnorderedListOutlined />\n        </BurgerButton>\n        <MenuWrapper\n          className=\"flex-2\"\n          show={mobileMenu}\n          onClick={() => {\n            setMobileMenu(false);\n          }}\n        >\n          <Menu>\n            <CloseButton onclick={() => setMobileMenu(false)}>\n              <CloseSquareOutlined />\n            </CloseButton>\n\n            {menus.map((menu) => (\n              <MenuLink to={menu.to} className=\"flex-v flex-center\" key={menu.to}>\n                <div className=\"flex-h flex-center\">\n                  <div className=\"mr5\">{menu.icon()}</div>\n                  <Text>{menu.text}</Text>\n                </div>\n              </MenuLink>\n            ))}\n          </Menu>\n        </MenuWrapper>\n      </HeaderContent>\n    </HeaderWrapper>\n  );\n});\n\nconst fadeIn = keyframes`\n  from {\n    transform: translateX(-500px);\n    opacity: 0;\n  }\n\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n`;\n\nconst CloseButton = styled.div`\n  font-size: 30px;\n  position: absolute;\n  right: -30px;\n  top: 15px;\n  background: white;\n  \n  ${media.md`\n    display: inline-block;\n  `}\n`;\nconst MenuWrapper = styled.div`\n  background: transparent;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: flex-end;\n\n  ${media.md`\n    display: ${props => (props.show ? \"flex\" : \"none\")};\n    position: fixed;\n    background: rgba(255, 255, 255, 0.5);\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 555;\n\n  `}\n`;\n\nconst Menu = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  ${media.md`\n    animation: ${fadeIn} 0.2s linear;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    background: #fff;\n    padding: 20px 20px;\n    flex-direction: column;\n    box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);\n    min-width: 50vw;\n  `}\n`;\n\nconst MenuLink = styled(Link)`\n  color: #333;\n  align-items: center;\n  height: ${props => props.theme.headerHeight};\n  font-size: 16px;\n  font-weight: bold;\n  padding: 0 20px;\n  text-align: center;\n  border-bottom: 1px solid transparent;\n\n  &:hover {\n    border-bottom: 1px solid #5b40bb;\n  }\n  &:active {\n    opacity: 0.9;\n  }\n  ${media.md`\n    padding: 10px;\n    margin: 10px 0;\n    height: auto;\n    width: 100%;\n    align-items: flex-start;\n  `}\n`;\n\nconst HeaderContent = styled.div`\n  width: 100%;\n  max-width: ${props => props.theme.contentWidth}px;\n  margin: auto;\n  height: ${props => props.theme.headerHeight};\n`;\n\nconst HeaderWrapper = styled(Layout.Header)`\n  z-Index: 12;\n  position: fixed;\n  width: 100%;\n  padding: 0;\n  color: #333;\n  height: ${props => props.theme.headerHeight};\n  line-height: 1;\n  background: ${props => props.background} !important;\n  ${props => `\n    background: ${props.background} !important;\n    box-shadow: ${props.background === \"transparent\" ? \"none\" : \"0 0 10px 0px rgba(0, 0, 0, 0.2)\"};\n  `}\n`;\n\nconst BurgerButton = styled.div`\n  font-size: 25px;\n  display: none !important;\n  ${media.md`\n    display: flex !important;\n  `}\n`;\n","import { useEffect, useRef } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport {history} from \"../store/configureStore\";\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport default function ScrollToTop() {\n  const location = useLocation();\n  const previous = usePrevious(location) || {};\n  useEffect(() => {\n\n    if (history.action !== \"POP\" && (`${previous.pathname}${previous.search}` !== `${location.pathname}${location.search}`)) {\n      window.scrollTo(0, 0);\n    }\n  }, [previous, location]);\n\n  return null;\n}\n","// @flow\n\nimport React from 'react';\nimport styled from \"styled-components\";\nimport {Switch} from \"react-router-dom\";\nimport {Layout} from \"antd\";\n\nimport {history} from \"../store/configureStore\";\nimport Header from \"../components/Header\";\nimport {RouteWithSubRoutes} from \"../lib/helpers\";\nimport ScrollTop from \"../components/ScrollTop\";\n\nexport default ({\n  routes,\n}) => (\n  <>\n    <ScrollTop />\n    <Header history={history} />\n    <MainContent>\n      {routes.map((route, i) => route.component && (\n        <Switch key={i}>\n          <RouteWithSubRoutes {...route} />\n        </Switch>\n      ))}\n    </MainContent>\n  </>\n);\n\nconst MainContent = styled(Layout)`\n  margin: 0;\n  //padding-top: ${props => props.theme.headerHeight};\n  min-height: 100vh;\n  background: transparent !important;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport {LoadingOutlined} from \"@ant-design/icons\";\n\nexport default ({\n  className,\n  htmlType,\n  children,\n  icon,\n  loading,\n  ...props\n}) => (\n  <StyledButton\n    {...props}\n    loading={loading}\n    type={htmlType}\n    className={className}\n  >\n    <div className=\"flex-h flex-center\">\n      {!!loading && (<div className=\"flex-v mr10\"><LoadingOutlined /></div>)}\n      <div>{children}</div>\n    </div>\n  </StyledButton>\n);\n\nconst StyledButton = styled.button`\n  display: inline-block;\n  border: 0;\n  font-style: normal;\n  font-weight: 600;\n  outline: none;\n  cursor: pointer;\n  white-space: nowrap;\n  border: 1px solid;\n  border-radius: 5px;\n  &:hover {\n    color: white;\n  }\n\n  &:active {\n    opacity: 0.8;\n  }\n\n  ${props => props.width && `width: ${(props) => {\n    if (String(props.width).indexOf(\"%\") !== -1) {\n      return props.width;\n    }\n    if (String(props.width).indexOf(\"px\") !== -1) {\n      return `${props.width}px !important;`;\n    }\n    return props.width;\n  }}`}\n  ${props => !!props.disabled && `\n    opacity: 0.5;\n  `}\n\n  ${props => ({\n    m: `\n      font-size: 16px;\n      line-height: 24px;\n      padding: 10px 16px;\n    `,\n    s: `\n      font-size: 12px;\n      line-height: 14px;\n      padding: 4px 9px;\n    `,\n    xs: `\n      font-size: 10px;\n      line-height: 12px;\n      padding: 2px 9px;\n    `,\n\n    default: `\n      padding: 7px 15px;\n      font-size: 14px;\n      line-height: 24px !important;\n    `,\n  })[props.size || \"default\"]}\n\n  ${props => `\n    color: white;\n    ${({\n    primary: `\n      background: #30318C;\n      border-color: #30318C;\n    `,\n    success: `\n      background: #009F4F;\n      border-color: #009F4F;\n    `,\n    error: `\n      background: #FF4D4F;\n      border-color: #FF4D4F;\n    `,\n    warning: `\n      background: #FFC700;\n      border-color: #FFC700;\n    `,\n    gray: `\n      background: #F5F5F5;\n      border-color: white;\n      color: #373737 !important;\n    `,\n    default: `\n      background: white;\n      color: #30318C !important;\n    `,\n  })[props.background || \"default\"]}`}\n\n  ${props => ({\n    primary: `\n      border-color: #30318C;\n      color: #30318C !important;\n      background: transparent;\n    `,\n    success: `\n      border-width: 1px;\n      border-color: #009F4F;\n      color: #009F4F !important;\n      background: transparent;\n    `,\n    error: `\n      border-color: #FF4D4F;\n      color: #FF4D4F !important;\n      background: transparent;\n    `,\n    warning: `\n      border-color: #FFC700;\n      color: #FFC700 !important;\n      background: transparent;\n    `,\n    black: `\n      border-color: #373737;\n      color: #373737 !important;\n      background: transparent;\n    `,\n    white: `\n      background: transparent;\n      border-color: white;\n      color: white !important;\n    `,\n    default: `\n      border: 0px solid #5426ff !important;\n      color: white !important;\n      background-color: rgb(84, 105, 212);\n      box-shadow: rgba(0, 0, 0, 0) 0px 0px 0px 0px,\n        rgba(0, 0, 0, 0) 0px 0px 0px 0px,\n        rgba(0, 0, 0, 0.12) 0px 1px 1px 0px,\n        rgb(84, 105, 212) 0px 0px 0px 1px,\n        rgba(0, 0, 0, 0) 0px 0px 0px 0px,\n        rgba(0, 0, 0, 0) 0px 0px 0px 0px,\n        rgba(60, 66, 87, 0.08) 0px 2px 5px 0px;\n      &:hover {\n        transition: all 0.1s;\n      }\n    `,\n  })[props.border || \"default\"]}\n`;\n","import styled from \"styled-components\";\nimport {Input} from \"antd\";\n\nconst style = props => `\n  .has-error {\n    border: 1px solid #f5222d !important;\n  }\n  input {\n    outline: none !important;\n  }\n  border: 1px solid transparent;\n  &, .ant-input-affix-wrapper {\n    padding: 7px 14px !important;\n    border: 1px solid #d9d9d9;\n    &:focus {\n      box-shadow: inset 0 0 0 1px #5426ff, inset 0 1px 0 0 #5426ff !important;\n    }\n  }\n  &, .ant-select-selection {\n    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.15), inset 0 1px 0 0 rgba(0, 0, 0, 0.08);\n    border: 0;\n    background-color: rgba(255, 255, 255, 0.7) !important;\n    transition: none;\n    &:focus-within {\n      outline: none;\n      box-shadow: inset 0 0 0 1px #5426ff, inset 0 1px 0 0 #5426ff !important;\n    }\n\n    font-family: Open sans, serif;\n\n  ${({\n    small: `\n      font-size: 13px !important;\n      height: 32px !important;\n      .ant-select-selection-item {\n        line-height: 30px !important;\n      }\n    `,\n    default: `\n      font-size: 15px;\n    `,\n  })[props.size || \"default\"]}\n\n    ${props.disabled ? `\n      background: #DDD!important;\n      color: #333 !important;\n      box-shadow: none !important;\n    ` : \"\"}\n  }\n  .ant-input-group {\n    .ant-select {\n      width: 100px !important;\n      height: 32px !important;\n    }\n    .ant-select-selector {\n      height: 32px !important;\n    }\n    .ant-input {\n      border: 0 !important;\n      height: 32px;\n      //box-shadow: none;\n    }\n  }\n  &.borderless {\n    border: 0;\n    box-shadow: none;\n  }\n  resize: none;\n`;\n\nconst StyledInput = styled(Input)`\n  ${props => style(props)}\n`;\n\nStyledInput.Password = styled(Input.Password)`\n  ${props => style(props)}\n`;\n\nexport default StyledInput;\n","import React, {useRef, useState} from 'react';\nimport {useDispatch} from \"react-redux\";\nimport {Form, Row, Col} from \"antd\";\n\nimport Button from \"./Button\";\nimport Input from \"./Input\";\nimport Text from \"./Text\";\n\nimport {fillField, formHasError} from \"../lib/helpers\";\nimport {history} from \"../store/configureStore\";\nimport * as AuthActions from \"../actions/AuthActions\";\n\nexport default () => {\n  const dispatch = useDispatch();\n  const [submitting, setSubmitting] = useState(false);\n  const formRef = useRef();\n\n  const handleSubmit = () => {\n    const {\n      validateFields,\n      setFields,\n    } = formRef.current;\n\n    setSubmitting(true);\n    validateFields().then(async (values) => {\n      const result = await dispatch(AuthActions.postSignin(values));\n      setSubmitting(false);\n\n      if (result && result.error) {\n        const errors = [];\n        Object.keys(result.meta).forEach((key) => {\n          errors.push({\n            value: values[key],\n            errors: [result.meta[key]],\n            name: key,\n          });\n        });\n        setFields(errors);\n        return;\n      }\n      dispatch(AuthActions.getMe());\n      history.push(\"/\");\n    }).catch(() => {\n      setSubmitting(false);\n    });\n  };\n\n  return (\n    <Form onFinish={handleSubmit} ref={formRef}>\n      <Row type=\"flex\">\n        <Col xs={24} className=\"mb30\">\n          <Text size=\"l\">Sign in</Text>\n        </Col>\n        <Col xs={24} sm={24} className=\"pb30 pt20\">\n          <Form.Item\n            {...fillField}\n            name=\"email\"\n            label=\"EMAIL\"\n            rules={[{\n              type: \"email\",\n              required: true,\n              message: \"EMAIL is required\",\n            }]}\n          >\n            <Input\n              inputMode=\"email\"\n              autoCorrect=\"off\"\n              autoCapitalize=\"none\"\n              autoComplete=\"new-password\"\n              type=\"email\"\n              className=\"fill\"\n            />\n          </Form.Item>\n\n          <Form.Item\n            {...fillField}\n            name=\"password\"\n            label=\"PASSWORD\"\n            rules={[{\n              required: true,\n              message: \"PASSWORD is required\",\n            }]}\n            className=\"fill\"\n          >\n            <Input.Password\n              autoComplete=\"new-password\"\n              type=\"password\"\n              className=\"fill\"\n            />\n          </Form.Item>\n          <div className=\"text-center\">\n            <Form.Item noStyle shouldUpdate={() => true}>\n              {({getFieldsError}) => (\n                <div>\n                  <Button\n                    background=\"primary\"\n                    disabled={submitting || formHasError(getFieldsError())}\n                    loading={submitting ? 1 : 0}\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    className=\"fill\"\n                    width=\"220px\"\n                    bold\n                  >\n                    Sign in\n                  </Button>\n                </div>\n              )}\n            </Form.Item>\n          </div>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n","import {Form as AntForm} from \"antd\";\nimport styled from \"styled-components\";\n\nconst Form = AntForm;\n\nForm.Item = styled(AntForm.Item)`\n  &.ant-form-item {\n    display: block;\n  }\n  &.ant-form-item-has-error {\n    span {\n      color: #333 !important;\n    }\n    textarea, .ant-select-selector, .ant-picker, .ant-input-password, input:not([type='password']) {\n      border: 1px solid red !important;\n    }\n    ant-input-password\n    .ant-checkbox-inner {\n      border-color: #ed374f !important;\n    }\n  }\n  .ant-form-item-label, label {\n    display: block;\n    line-height: 14px !important;\n    height: auto !important;\n    font-family: \"Open Sans\", sans-serif;\n    font-size: 12px;\n    font-weight: 600 !important;\n    color: #333;\n    padding-bottom: 0;\n    margin-bottom: 0;\n    text-align: left;\n    label {\n      margin-bottom: 4px;\n      padding-bottom: 0;\n      &:before {\n        content: none;\n      }\n    }\n    &:after {\n      content: none;\n    }\n  }\n  .ant-form-item-required {\n    &:before, &:after {\n      content: none;\n    }\n  }\n  &.no-explain {\n    line-height: 1;\n    margin-bottom: 0 !important;\n  }\n  &.no-explain-form {\n    .ant-form-explain, .ant-form-item-explain {\n      display: none !important;\n    }\n  }\n\n  .ant-select-disabled {\n    cursor: pointer;\n    .ant-select-selection-item {\n      color: #333 !important;\n    }\n  }\n\n  ${props => (props.readOnly ? `\n    margin-bottom: 15px !important;\n    label {\n      line-height: 1.2 !important;\n      margin-bottom: 0 !important;\n      font-weight: 500 !important;\n      font-size: 12px;\n      color: #979797;\n    }\n    .ant-upload-list-item {\n      padding: 5px 0 !important;\n      border: 0 !important;\n    }\n    textarea, input, .ant-select-selector, .ant-select, .ant-picker {\n      color: #333;\n      box-shadow: none !important;\n      border: 0 !important;\n      padding: 0 !important;\n      background-color: transparent !important;\n      &:focus {\n        border: 0;\n        box-shadow: none;\n      }\n      .ant-select-arrow, .ant-picker-suffix, .ant-picker-clear {\n        display: none;\n      }\n      &:before {\n      }\n    }\n  ` : ``)}\n\n`;\n\nexport default Form;\n","import React, {useRef, useState} from 'react';\nimport {useDispatch} from \"react-redux\";\nimport {Row, Col} from \"antd\";\nimport {Link} from \"react-router-dom\";\n\nimport Form from \"./Form\";\nimport Button from \"./Button\";\nimport Input from \"./Input\";\nimport Text from \"./Text\";\n\nimport {fillField, formHasError} from \"../lib/helpers\";\nimport * as AuthActions from \"../actions/AuthActions\";\n\nexport default () => {\n  const dispatch = useDispatch();\n  const [submitting, setSubmitting] = useState(0);\n  const [success, setSuccess] = useState(0);\n  const formRef = useRef();\n  const handleSubmit = async () => {\n    const {\n      validateFields,\n      setFields,\n    } = formRef.current;\n    setSubmitting(1);\n    try {\n      const values = await validateFields();\n      const result = await dispatch(AuthActions.postSignup(values));\n      setSubmitting(0);\n\n      if (result.error) {\n        const errors = [];\n        Object.keys(result.meta).forEach((key) => {\n          errors.push({\n            value: values[key],\n            errors: [result.meta[key]],\n            name: key,\n          });\n        });\n        setFields(errors);\n      }\n      if (result.success) {\n        setSuccess(1);\n      }\n    } catch (err) {\n      setSubmitting(0);\n    }\n  };\n\n  if (success) {\n    return (\n      <div>\n        <Text size=\"l\" className=\"mb30\">Thank you for signing up!</Text>\n        <Text className=\"mb30\">You can now sign in.</Text>\n        <Button as={Link} className=\"fill\" to=\"/signin\">Sign in</Button>\n      </div>\n    );\n  }\n\n  return (\n    <Form onFinish={handleSubmit} ref={formRef}>\n      <Row type=\"flex\">\n        <Col xs={24} className=\"mb30\">\n          <Text size=\"l\">Sign up</Text>\n        </Col>\n\n        <Col xs={24} sm={24} className=\"pb50 pt20\">\n          <div>\n            <Form.Item\n              {...fillField}\n              name=\"email\"\n              label=\"EMAIL\"\n              rules={[{\n                type: \"email\",\n                required: true,\n                message: \"EMAIL is required\",\n              }]}\n            >\n              <Input\n                className=\"fill\"\n                inputMode=\"email\"\n                autoCorrect=\"off\"\n                autoCapitalize=\"none\"\n                autoComplete=\"username\"\n              />\n            </Form.Item>\n            <Form.Item\n              {...fillField}\n              name=\"password\"\n              label=\"PASSWORD\"\n              rules={[{\n                required: true,\n                message: \"PASSWORD is required\",\n              }]}\n            >\n              <Input.Password autoComplete=\"new-password\" className=\"fill\" />\n            </Form.Item>\n\n            <Form.Item\n              {...fillField}\n              name=\"password_confirmation\"\n              label=\"PASSWORD CONFIRMATION\"\n              dependencies={['password']}\n              rules={[{\n                required: true,\n                message: \"PASSWORD CONFIRMATION is required\",\n              },\n              ({ getFieldValue }) => ({\n                validator(rule, value) {\n                  if (!value || getFieldValue('password') === value) {\n                    return Promise.resolve();\n                  }\n                  return Promise.reject(\n                    new Error(\"PASSWORD CONFIRMATION does not match\"),\n                  );\n                },\n              })]}\n            >\n              <Input.Password autoComplete=\"new-password\" className=\"fill\" />\n            </Form.Item>\n            <Form.Item noStyle shouldUpdate={() => true}>\n              {({getFieldsError}) => (\n                <Button\n                  background=\"primary\"\n                  type=\"primary\"\n                  htmlType=\"submit\"\n                  className=\"fill text-center mt20\"\n                  loading={submitting}\n                  disabled={submitting || formHasError(getFieldsError())}\n                  bold\n                >\n                  Sign up\n                </Button>\n              )}\n            </Form.Item>\n          </div>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n","import actionTypes from \"../constants/actionTypes\";\n\nimport API, {render} from \"../constants/apiEndpoints\";\nimport {dispatchRequest} from \"./ApiActions\";\n\nconst {\n  SURVEY_GET_LIST,\n  SURVEY_GET,\n  SURVEY_POST,\n  SURVEY_PUT,\n} = actionTypes;\n\nexport function getSurveyList(params) {\n  return dispatchRequest({\n    method: \"get\",\n    url: API[SURVEY_GET_LIST],\n    params,\n    type: SURVEY_GET_LIST,\n  });\n}\n\nexport function getSurvey(id) {\n  return dispatchRequest({\n    method: \"get\",\n    url: render(API[SURVEY_GET], {id}),\n    type: SURVEY_GET,\n    include: {\n      id,\n    },\n  });\n}\n\nexport function postSurvey(params) {\n  return dispatchRequest({\n    method: \"post\",\n    url: API[SURVEY_POST],\n    params,\n    type: SURVEY_POST,\n  });\n}\n\nexport function putSurvey(params, id) {\n  return dispatchRequest({\n    method: \"put\",\n    url: render(API[SURVEY_PUT], {id}),\n    params,\n    type: SURVEY_PUT,\n    include: {\n      id: params.id,\n    },\n  });\n}\n","import React, {useRef, useState} from 'react';\nimport {useDispatch} from \"react-redux\";\nimport {Row, Col, message} from \"antd\";\n\nimport Form from \"./Form\";\nimport Button from \"./Button\";\nimport Input from \"./Input\";\nimport {history} from \"../store/configureStore\";\n\nimport {fillField, formHasError} from \"../lib/helpers\";\nimport * as SurveyActions from \"../actions/SurveyActions\";\n\nexport default ({\n  initialValues,\n}) => {\n  const dispatch = useDispatch();\n  const [submitting, setSubmitting] = useState(0);\n  const formRef = useRef();\n  const handleSubmit = async () => {\n    const {\n      validateFields,\n      setFields,\n    } = formRef.current;\n    setSubmitting(1);\n    try {\n      const values = await validateFields();\n      const result = await (values.id ? (\n        dispatch(SurveyActions.putSurvey({\n          id: values.id,\n          title: values.title,\n          Options: values.Options.map((Option) => ({\n            id: Option.id,\n            title: Option.title,\n          })),\n        }, values.id))\n      ) : (\n        dispatch(SurveyActions.postSurvey(values))\n      ));\n      setSubmitting(0);\n\n      if (result.error) {\n        const errors = [];\n        Object.keys(result.meta).forEach((key) => {\n          errors.push({\n            value: values[key],\n            errors: [result.meta[key]],\n            name: key,\n          });\n        });\n        setFields(errors);\n        return;\n      }\n      message.success(\"New survey has been created\");\n      history.push(\"/\");\n    } catch (err) {\n      setSubmitting(0);\n    }\n  };\n\n  return (\n    <Form onFinish={handleSubmit} ref={formRef} initialValues={initialValues}>\n      <Row type=\"flex\">\n        <Col xs={24} sm={24} className=\"pb50 pt20\">\n          <div>\n            <Form.Item noStyle name=\"id\">\n              <Input type=\"hidden\" />\n            </Form.Item>\n\n            <Form.Item\n              {...fillField}\n              name=\"title\"\n              label=\"QUESTION\"\n              rules={[{\n                required: true,\n                message: \"QUESTION is required\",\n              }]}\n            >\n              <Input\n                className=\"fill\"\n                autoCorrect=\"off\"\n                autoCapitalize=\"none\"\n              />\n            </Form.Item>\n            <Form.List\n              name=\"Options\"\n              rules={[{\n                required: true,\n                message: \"OPTIONS is required\",\n              }]}\n            >\n              {(fields, { add }, { errors }) => (\n                <>\n                  {fields.map((field, index) => (\n                    <Form.Item\n                      {...fillField}\n                      key={index}\n                      name={[field.key, \"title\"]}\n                      label={(\n                        <div className=\"flex-h\">\n                          <div className=\"flex-1\">{`OPTION ${index + 1}`}</div>\n                          <div>\n                            <Button\n                              htmlType=\"button\"\n                              size=\"xs\"\n                              onClick={() => {\n                                const {\n                                  current: {\n                                    getFieldsValue,\n                                    setFieldsValue,\n                                  },\n                                } = formRef;\n                                const Options = getFieldsValue().Options || [];\n                                Options.splice(index, 1);\n                                setFieldsValue({Options});\n                              }}\n                            >\n                              Remove\n                            </Button>\n                          </div>\n                        </div>\n                      )}\n                      rules={[{\n                        required: true,\n                        message: \"OPTION is required\",\n                      }]}\n                    >\n                      <Input\n                        className=\"fill\"\n                        autoCorrect=\"off\"\n                        autoCapitalize=\"none\"\n                      />\n                    </Form.Item>\n                  ))}\n                  <div className=\"text-center mt10\">\n                    <Button\n                      size=\"s\"\n                      htmlType=\"button\"\n                      onClick={() => {\n                        //this.setState({packagesError: false});\n                        add();\n                      }}\n                    >\n                      Add Option\n                    </Button>\n                  </div>\n                  <Form.ErrorList errors={errors} />\n                </>\n              )}\n            </Form.List>\n          </div>\n\n          <Form.Item noStyle shouldUpdate={() => true}>\n            {({getFieldsError}) => (\n              <Button\n                background=\"primary\"\n                type=\"primary\"\n                htmlType=\"submit\"\n                className=\"fill text-center mt20\"\n                loading={submitting}\n                disabled={submitting || formHasError(getFieldsError())}\n                bold\n              >\n                {initialValues && initialValues.id ? \"Update Survey\" : \"Create Survey\"}\n              </Button>\n            )}\n          </Form.Item>\n\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport {LoadingOutlined} from \"@ant-design/icons\";\n\nexport default () => (\n  <LoadingWrapper className=\"flex-v flex-center p15\">\n    <div><LoadingOutlined /></div>\n  </LoadingWrapper>\n);\n\nconst LoadingWrapper = styled.div`\n  text-align: center;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.5);\n`;\n","import actionTypes from \"../constants/actionTypes\";\n\nimport API from \"../constants/apiEndpoints\";\nimport {dispatchRequest} from \"./ApiActions\";\n\nconst {AUDIENCE_POST} = actionTypes;\n\nexport const getAudience = () => JSON.parse(localStorage.getItem(\"audience\")) || {};\nexport const setAudience = (audience) => localStorage.setItem(\"audience\", JSON.stringify(audience));\n\nexport function postAudience(params) {\n  return dispatchRequest({\n    method: \"post\",\n    url: API[AUDIENCE_POST],\n    params,\n    type: AUDIENCE_POST,\n  });\n}\n","import React, {useRef, useState} from 'react';\nimport {useDispatch} from \"react-redux\";\nimport {Form} from \"antd\";\n\nimport Button from \"./Button\";\nimport Input from \"./Input\";\n\nimport * as AudienceActions from \"../actions/AudienceActions\";\nimport * as SurveyActions from \"../actions/SurveyActions\";\n\nimport {fillField, formHasError} from \"../lib/helpers\";\n\nexport default ({\n  initialValues,\n  questionId,\n  onCancel,\n}) => {\n  const dispatch = useDispatch();\n  const [submitting, setSubmitting] = useState(0);\n  const formRef = useRef();\n\n  const handleSubmit = () => {\n    const {\n      validateFields,\n      setFields,\n    } = formRef.current;\n\n    setSubmitting(1);\n    validateFields().then(async (values) => {\n      const result = await dispatch(AudienceActions.postAudience(values));\n      setSubmitting(0);\n\n      if (result && result.error) {\n        const errors = [];\n        Object.keys(result.meta).forEach((key) => {\n          errors.push({\n            value: values[key],\n            errors: [result.meta[key]],\n            name: key,\n          });\n        });\n        setFields(errors);\n        return;\n      }\n      await dispatch(SurveyActions.getSurvey(questionId));\n      AudienceActions.setAudience(values);\n      if (onCancel) {\n        onCancel();\n      }\n    }).catch(() => {\n      setSubmitting(0);\n    });\n  };\n\n  return (\n    <Form\n      onFinish={handleSubmit}\n      ref={formRef}\n      initialValues={initialValues}\n    >\n      <div xs={24} sm={24} className=\"pb30 pt20\">\n        <Form.Item\n          noStyle\n          name=\"OptionId\"\n          rules={[{\n            required: true,\n            message: \"OptionId is required\",\n          }]}\n        >\n          <Input type=\"hidden\" />\n        </Form.Item>\n\n        <Form.Item\n          {...fillField}\n          name=\"name\"\n          label=\"NAME\"\n          rules={[{\n            required: true,\n            message: \"NAME is required\",\n          }]}\n        >\n          <Input\n            autoCorrect=\"off\"\n            autoCapitalize=\"none\"\n            autoComplete={1}\n            className=\"fill\"\n          />\n        </Form.Item>\n        <Form.Item\n          {...fillField}\n          name=\"email\"\n          label=\"EMAIL\"\n          rules={[{\n            type: \"email\",\n            required: true,\n            message: \"EMAIL is required\",\n          }]}\n        >\n          <Input\n            inputMode=\"email\"\n            autoCorrect=\"off\"\n            autoCapitalize=\"none\"\n            autoComplete={1}\n            type=\"email\"\n            className=\"fill\"\n          />\n        </Form.Item>\n\n        <div className=\"text-center\">\n          <Form.Item noStyle shouldUpdate={() => true}>\n            {({getFieldsError}) => (\n              <div>\n                <Button\n                  background=\"primary\"\n                  disabled={submitting || formHasError(getFieldsError())}\n                  loading={submitting}\n                  type=\"primary\"\n                  htmlType=\"submit\"\n                  className=\"fill\"\n                  width=\"220px\"\n                  bold\n                >\n                  Submit\n                </Button>\n              </div>\n            )}\n          </Form.Item>\n        </div>\n      </div>\n    </Form>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport {Progress} from \"antd\";\nimport {CheckCircleTwoTone, BorderOutlined} from \"@ant-design/icons\";\n\nimport Text from \"./Text\";\n\nexport default ({\n  option,\n  totalAnswers,\n  audienceAnswer,\n  onClick,\n}) => {\n  const percentage = ((option.Answers.length / totalAnswers) * 100).toFixed(0);\n  const isOptionAnswer = audienceAnswer && audienceAnswer.OptionId === option.id;\n  return (\n    <OptionButton\n      onClick={onClick}\n      disabled={audienceAnswer}\n      className=\"flex-h flex-center\"\n    >\n      <OptionIcon size=\"m\" className=\"mr20 flex-v\" color=\"gray\">\n        {audienceAnswer ? (\n          <div className=\"flex-v text-right\">\n            <Text bold>{`${percentage}%`}</Text>\n            <Text>{isOptionAnswer ? <CheckCircleTwoTone twoToneColor=\"#52c41a\" /> : \"\"}</Text>\n          </div>\n        ) : (\n          <BorderOutlined style={{color: \"#ddd\"}} />\n        )}\n      </OptionIcon>\n      <div className=\"flex-1 text-left\">\n        <Text>{option.title}</Text>\n        {audienceAnswer && (\n          <div className=\"flex-h\">\n            <div className=\"flex-1\"><Progress percent={percentage} showInfo={false} /></div>\n          </div>\n        )}\n      </div>\n    </OptionButton>\n  );\n};\n\nconst OptionButton = styled.button`\n  width: 100%;\n  background: white;\n  outline: none;\n  border: 0;\n  padding: 10px 20px;\n  border-bottom: 1px solid #ddd;\n  min-height: 60px;\n\n  &:enabled {\n    &:hover {\n      background: #f9f9f9;\n      cursor: pointer;\n    }\n  }\n\n  &:last-child {\n    border-bottom: 0;\n  }\n`;\n\nconst OptionIcon = styled.div`\n  width: 40px;\n  text-align: center;\n`;\n","import React, {useState} from 'react';\nimport styled from \"styled-components\";\nimport {Modal} from \"antd\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport Text from \"./Text\";\nimport Loading from \"./Loading\";\nimport Button from \"./Button\";\n\nimport * as AudienceActions from \"../actions/AudienceActions\";\nimport {history} from \"../store/configureStore\";\nimport * as SurveyActions from \"../actions/SurveyActions\";\nimport AudienceForm from \"./AudienceForm\";\nimport OptionButton from \"./OptionButton\";\n\nexport default ({\n  survey,\n}) => {\n  const dispatch = useDispatch();\n  const [submitting, setSubmitting] = useState(false);\n  const [modal, setModal] = useState(false);\n  const getMe = useSelector(state => state.auth.get(\"getMe\"));\n\n  const handleClick = async (option) => {\n    setSubmitting(true);\n    const {name, email} = AudienceActions.getAudience();\n    const values = {OptionId: option.id, email, name};\n    if (!name || !email) {\n      setModal(values);\n    } else {\n      await dispatch(AudienceActions.postAudience(values));\n      await dispatch(SurveyActions.getSurvey(survey.id));\n      AudienceActions.setAudience(values);\n    }\n    setSubmitting(false);\n  };\n\n  const {email} = AudienceActions.getAudience();\n  let audienceAnswer;\n  const totalAnswers = survey.Options.reduce((acc, Option) => {\n    if (!audienceAnswer) {\n      audienceAnswer = Option.Answers.find((answer) => answer.Audience.email === email);\n    }\n    return acc + Option.Answers.length;\n  }, 0);\n\n  const edit = () => {\n    history.push(`/survey/${survey.id}/update`);\n  };\n  const detail = () => {\n    history.push(`/survey/${survey.id}`);\n  };\n\n  return (\n    <SurveyWrapper>\n      {submitting && <Loading />}\n      <Question className=\"flex-h flex-center\">\n        <Text size=\"m\" className=\"flex-1\">{survey.title}</Text>\n      </Question>\n      <Modal\n        onCancel={() => setModal(false)}\n        title=\"Enter your name and email to participate\"\n        visible={modal}\n        footer={false}\n      >\n        {modal && (\n          <AudienceForm\n            initialValues={modal}\n            questionId={survey.id}\n            onCancel={() => setModal(false)}\n          />\n        )}\n      </Modal>\n      {survey.Options.map((option) => (\n        <OptionButton\n          option={option}\n          totalAnswers={totalAnswers}\n          audienceAnswer={audienceAnswer}\n          onClick={() => {\n            handleClick(option);\n          }}\n          key={option.id}\n        />\n      ))}\n      <div className=\"ph30 pv10 text-center flex-h\">\n        {audienceAnswer && (<Text className=\"mr5\" color=\"gray\">{`${totalAnswers} answers`}</Text>)}\n        {getMe && (\n          <div className=\"flex-h flex-end flex-1\">\n            <div className=\"mr5\"><Button size=\"s\" onClick={detail}>Details</Button></div>\n            <div className=\"mr5\"><Button size=\"s\" onClick={edit}>Edit</Button></div>\n            <div><Button size=\"s\" onClick={edit}>Delete</Button></div>\n          </div>\n        )}\n      </div>\n    </SurveyWrapper>\n  );\n};\n\nconst SurveyWrapper = styled.div`\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  background: ${props => props.theme.boxBgColor};\n  border-radius: 3px;\n  margin: 10px 0;\n`;\n\nconst Question = styled.div`\n  border-bottom: 1px solid #ccc;\n  padding: 10px 20px;\n`;\n","import React, {useEffect} from \"react\";\nimport {Row, Col} from \"antd\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport * as SurveyActions from \"../actions/SurveyActions\";\nimport Survey from \"./Survey\";\n\nexport default ({\n  page = 1,\n  limit = 20,\n}) => {\n  const dispatch = useDispatch();\n  const getListSurvey = useSelector(state => state.survey.get(\"getListSurvey\"));\n\n  useEffect(() => {\n    dispatch(SurveyActions.getSurveyList({page, limit}));\n  }, []);\n\n  return (\n    <Row>\n      {getListSurvey.toIndexedSeq().toArray().map((survey) => (\n        <Col xs={24} sm={24} key={survey.id}>\n          <Survey survey={survey} />\n        </Col>\n      ))}\n    </Row>\n  );\n};\n","// @flow\n\nimport BasePage from \"./pages/BasePage\";\n\nimport SigninPage from \"./pages/SigninPage\";\nimport SignupPage from \"./pages/SignupPage\";\nimport LogoutPage from \"./pages/LogoutPage\";\n\nimport SurveyCreatePage from \"./pages/SurveyCreatePage\";\nimport SurveyUpdatePage from \"./pages/SurveyUpdatePage\";\nimport SurveyListPage from \"./pages/SurveyListPage\";\nimport SurveyPage from \"./pages/SurveyPage\";\n\nexport default [{\n  path: \"/\",\n  component: BasePage,\n  routes: [{\n    path: \"/\",\n    component: SurveyListPage,\n    exact: true,\n  }, {\n    path: \"/signup\",\n    component: SignupPage,\n    exact: true,\n  }, {\n    path: \"/signin\",\n    component: SigninPage,\n    exact: true,\n  }, {\n    path: \"/logout\",\n    component: LogoutPage,\n    exact: true,\n  }, {\n    path: \"/survey/create\",\n    component: SurveyCreatePage,\n    exact: true,\n  }, {\n    path: \"/survey/:id(\\\\d+)\",\n    component: SurveyPage,\n    exact: true,\n  }, {\n    path: \"/survey/:id/update\",\n    component: SurveyUpdatePage,\n    exact: true,\n  }],\n}];\n","import React from 'react';\n\nimport {Content} from \"../components/Layout\";\nimport SurveyList from \"../components/SurveyList\";\n\nexport default () => (\n  <Content className=\"mt130\">\n    <SurveyList />\n  </Content>\n);\n","import React from 'react';\n\nimport {Content, AuthBox} from \"../components/Layout\";\nimport SignupForm from \"../components/SignupForm\";\n\nexport default () => (\n  <Content className=\"mt130\">\n    <AuthBox>\n      <SignupForm />\n    </AuthBox>\n  </Content>\n);\n","import React from 'react';\n\nimport {Content, AuthBox} from \"../components/Layout\";\nimport SigninForm from \"../components/SigninForm\";\n\nexport default () => (\n  <Content className=\"mt130\">\n    <AuthBox>\n      <SigninForm />\n    </AuthBox>\n  </Content>\n);\n","import React, {useEffect} from \"react\";\nimport {useDispatch} from \"react-redux\";\n\nimport {Content} from \"../components/Layout\";\nimport * as AuthActions from \"../actions/AuthActions\";\nimport {history} from \"../store/configureStore\";\n\nexport default () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(AuthActions.postLogout());\n    history.push(\"/\");\n  });\n\n  return (\n    <Content>\n      <div>Logging out</div>\n    </Content>\n  );\n};\n","import React from 'react';\n\nimport {Content, AuthBox} from \"../components/Layout\";\nimport SurveyForm from \"../components/SurveyForm\";\nimport Text from \"../components/Text\";\n\nexport default () => (\n  <Content className=\"mt130\">\n    <AuthBox>\n      <Text size=\"l\" className=\"mb30\">Create Survey</Text>\n      <SurveyForm />\n    </AuthBox>\n  </Content>\n);\n","import React, {useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {Content} from \"../components/Layout\";\nimport Loading from \"../components/Loading\";\nimport Survey from \"../components/Survey\";\nimport * as SurveyActions from \"../actions/SurveyActions\";\n\nexport default ({\n  match: {\n    params: {\n      id,\n    },\n  },\n}) => {\n  const dispatch = useDispatch();\n  const survey = useSelector(state => state.survey.get(\"getListSurvey\").get(Number(id)));\n\n  useEffect(() => {\n    dispatch(SurveyActions.getSurvey(id));\n  }, []);\n\n  return (\n    <Content className=\"mt130\">\n      {survey ? <Survey survey={survey} /> : <Loading />}\n    </Content>\n  );\n};\n","import React, {useEffect} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {Content, AuthBox} from \"../components/Layout\";\nimport SurveyForm from \"../components/SurveyForm\";\nimport Text from \"../components/Text\";\n\nimport Loading from \"../components/Loading\";\nimport * as SurveyActions from \"../actions/SurveyActions\";\n\nexport default ({\n  match: {\n    params: {\n      id,\n    },\n  },\n}) => {\n  const dispatch = useDispatch();\n  const survey = useSelector(state => state.survey.get(\"getListSurvey\").get(Number(id)));\n\n  useEffect(() => {\n    dispatch(SurveyActions.getSurvey(id));\n  }, []);\n\n  return (\n    <Content className=\"mt130\">\n      <AuthBox>\n        {survey ? (\n          <>\n            <Text size=\"l\" className=\"mb30\">Update Survey</Text>\n            <SurveyForm initialValues={survey} />\n          </>\n        ) : (\n          <Loading />\n        )}\n      </AuthBox>\n    </Content>\n  );\n};\n","import React from 'react';\nimport Helmet from \"react-helmet\";\n\nimport {ConfigProvider} from \"antd\";\nimport enUS from 'antd/lib/locale-provider/en_US';\nimport {Switch } from 'react-router-dom';\n\nimport GlobalStyle from \"./styles/GlobalStyle\";\nimport {Layout} from \"./components/Layout\";\n\nimport {\n  RouteWithSubRoutes,\n} from \"./lib/helpers\";\nimport routes from \"./routes\";\n\nexport default () => (\n  <ConfigProvider locale={enUS}>\n    <GlobalStyle />\n    <Layout className=\"App\">\n      <Helmet\n        defaultTitle=\"ByteDance Survey\"\n        titleTemplate=\"%s - ByteDance Survey\"\n      />\n      {routes.map((route, i) => (\n        <Switch key={i}>\n          <RouteWithSubRoutes\n            key={i}\n            {...route}\n          />\n        </Switch>\n      ))}\n    </Layout>\n  </ConfigProvider>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ConnectedRouter } from 'connected-react-router';\nimport {Provider} from \"react-redux\";\nimport {ThemeProvider} from \"styled-components\";\n\nimport 'antd/dist/antd.css';\n\nimport App from './App';\nimport configureStore, {history} from \"./store/configureStore\";\nimport routes from \"./routes\";\nimport theme from \"./styles/theme\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <App routes={routes} />\n      </ConnectedRouter>\n    </Provider>\n  </ThemeProvider>,\n  (document.getElementById('root'): any),\n);\n","export default {\n  contentWidth: 780,\n  headerHeight: \"40px\",\n  fontFamily: `\"Open Sans\", sans-serif`,\n  headerColor: \"#333\",\n  boxBgColor: \"#fff\",\n};\n"],"sourceRoot":""}